Pseudocode

ok so what if we just use a search

run through in priority order

insert it into the display string or
display array? in its spot

maybe the way to do this is two arrays and two hashes. then you can do whatever.


ok flags really belong on the far right. maybe just assume they are.


audio muted | vpn bg | wifi up | bat 30% | 2025-09-18 23:30 | XXXXX

we really want a big divider and a small divider.

audio muted | vpn bg | wifi up | bat 30% | 2025-09-18 23:30 | XXXXX

What if we always add a space to the left, and at the end subtract the
trailing one.

addApplet(Applet_Name; position)

look at the current array and hash of displayed rtl applets
insert this one
look again at the current array and hash of displayed rtl applets
set array and hash of dividers


constituent functions:



removeApp(App_Name; position)


addNextApplet

so we look through the priority list and check which is the first one in the priority list that does not appear in displayed list

holy shit what about a linked list?!?!?! LMAO it's the correct data structure to easily insert

holy shit what if they should all be linked lists???????


ok So you make a linked list of priorities

you make a linked list of rtl ordering

then you have displayed linked list

you'll need an add function. this function figures out which item that has already been placed (i.e. is earlier in priority) is directly to the right.
-- this looks through the RTL array starting at our current applet to add (use the RTL hash to get this index), and working backwards. for each of these working backwards, it checks the existing displayed linked list. if it exists, then it exists and our new one goes to its left.

-- if none exists, then the new one goes all the way to the right.

--insert

then you'll need generate_displayed_with_dividers function. maybe this just makes an array instead of a linked list

priority
0 time
1 bat
2 date
3 wifi

rtl
head -> time
time -> date
date -> bat
bat -> wifi
wifi -> tail

head -> tail

applet to add is time

applet_to_left is date
date is not in displayed applets list
in fact none are
so applet_to_left end value is "tail"
this means nothing is to the left, so we are all the way to the right?
in displayed applets linked list, which is first
so wherever first pointed, point time there
then point first to time


want to add [2] (date)

so displayed is
head -> time
time -> bat
bat -> tail

next in rtl_priority is bat 
bat is in displayed
ok so we want to the right of bat, which is AFTER bat in displayed_ltr
so set date to bat's thing it points at
then set bat to point at date

want to add wifi
so displayed is

head -> time
head -> time
time -> date
date -> bat
bat -> tail

next in rtl_priority is tail
so nothing comes to its left
so stick it all the way to the left
so that is at the *beginning* of displayed ltr

 
